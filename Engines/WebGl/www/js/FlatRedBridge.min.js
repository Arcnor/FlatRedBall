Bridge.assembly("FlatRedBridge",function(){"use strict";Bridge.define("FlatRedBall.Sprite",{fields:{texture:null},props:{Texture:{get:function(){return this.texture},set:function(value){this.texture=value;this.UpdateToTextureScale()}},Width:0,Height:0,X:0,Y:0},ctors:{init:function(){this.Width=5;this.Height=10}},methods:{UpdateToTextureScale:function(){}}});Bridge.define("Microsoft.Xna.Framework.Graphics.Texture2D",{props:{Name:null,WebGLTexture:null,Width:0,Height:0},methods:{InitTexture:function(gl,file){this.Name=file;this.WebGLTexture=gl.createTexture();var textureImageElement=new Image;textureImageElement.onload=Bridge.fn.bind(this,function(){this.HandleLoadedTexture(textureImageElement,gl);this.Width=textureImageElement.width;this.Height=textureImageElement.height;System.Console.WriteLine("OnLoad")});textureImageElement.src=file},HandleLoadedTexture:function(image,gl){gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0);gl.bindTexture(gl.TEXTURE_2D,this.WebGLTexture);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,image);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_NEAREST);gl.generateMipmap(gl.TEXTURE_2D);gl.bindTexture(gl.TEXTURE_2D,null)}}})});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJGbGF0UmVkQnJpZGdlLm1pbi5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFtdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICIiLAogICJzb3VyY2VzQ29udGVudCI6IFtdCn0K
